<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:WriteUpProject.ViewModels.Pages"
             x:Class="WriteUpProject.Views.Pages.Page2View"
             x:DataType="vm:Page2ViewModel">
    <UserControl.Styles>
        <!-- Modern Card Style -->
        <Style Selector="Border.card">
            <Setter Property="Background" Value="#1e1e1e"/>
            <Setter Property="BoxShadow" Value="0 4 20 0 #0a000000"/>
            <Setter Property="Padding" Value="24"/>
        </Style>
        
        <!-- Label Style -->
        <Style Selector="TextBlock.label">
            <Setter Property="Foreground" Value="#a0a0a0"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0 0 0 8"/>
        </Style>
        
        <!-- Input Style -->
        <Style Selector="TextBox.modern-input">
            <Setter Property="Background" Value="#2a2a2a"/>
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderBrush" Value="#3a3a3a"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="12 10"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
        <Style Selector="TextBox.modern-input:focus">
            <Setter Property="BorderBrush" Value="#4a9eff"/>
            <Setter Property="Background" Value="#2d2d2d"/>
        </Style>
        <Style Selector="TextBox.modern-input:pointerover">
            <Setter Property="BorderBrush" Value="#4a4a4a"/>
        </Style>
        
        <!-- ComboBox Style -->
        <Style Selector="ComboBox.modern-combo">
            <Setter Property="Background" Value="#2a2a2a"/>
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderBrush" Value="#3a3a3a"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="12 10"/>
        </Style>
        <Style Selector="ComboBox.modern-combo:focus">
            <Setter Property="BorderBrush" Value="#4a9eff"/>
        </Style>
        <Style Selector="ComboBox.modern-combo:pointerover">
            <Setter Property="BorderBrush" Value="#4a4a4a"/>
        </Style>
        
        <!-- ComboBoxItem Styles -->
        <Style Selector="ComboBoxItem">
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="Background" Value="#2a2a2a"/>
            <Setter Property="Padding" Value="12 10"/>
        </Style>
        <Style Selector="ComboBoxItem:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#3a3a3a"/>
        </Style>
        <Style Selector="ComboBoxItem:selected /template/ ContentPresenter">
            <Setter Property="Background" Value="#4a9eff"/>
        </Style>
        
        <!-- Button Style -->
        <Style Selector="Button.primary-button">
            <Setter Property="Background" Value="#4a9eff"/>
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="24 12"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        <Style Selector="Button.primary-button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#5ca9ff"/>
        </Style>
        <Style Selector="Button.primary-button:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="#3a8eef"/>
        </Style>
        
        <!-- Validator Text Style -->
        <Style Selector="TextBlock.validator">
            <Setter Property="Foreground" Value="#ff6b6b"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="0 0 0 0"/>
        </Style>
        
        <!-- Header Style -->
        <Style Selector="TextBlock.header">
            <Setter Property="Foreground" Value="#ffffff"/>
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0 0 0 8"/>
        </Style>
        
        <Style Selector="TextBlock.subheader">
            <Setter Property="Foreground" Value="#808080"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0 0 0 32"/>
        </Style>
    </UserControl.Styles>
     <ScrollViewer>
        <Border Classes="card" MinWidth="600">
            <Grid ColumnDefinitions="*, *" RowDefinitions="*, *, *, *, *" HorizontalAlignment="Stretch">
                
                <!-- Left Column - Header & Network -->
                <StackPanel Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="2" Spacing="12" VerticalAlignment="Top">
                    <!-- Header Section -->
                        <TextBlock Classes="header" Text="Add your Message"/>
                        <TextBlock Classes="subheader" Text="And the change address, so no money is lost"/>
                </StackPanel>
            
                    <!-- Change address -->
                    <StackPanel Spacing="8" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1">
                        <TextBlock Classes="label" Text="Change Address"/>
                        <TextBox x:Name="ChangeAddressBox" 
                                 Classes="modern-input"
                                 Text="{Binding ChangeAddress}" 
                                 Watermark="Enter the change address"
                                 TextChanged="ChangeAddressChanged"/>
                        <TextBlock x:Name="AddressValidator" Classes="validator"/>
                    </StackPanel>

                    <!-- FeeRate -->
                    <StackPanel Spacing="8" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="2">
                        <TextBlock Classes="label" Text="FeeRate (sat/vbyte)"/>
                        <TextBox x:Name="FeeRateBox" 
                                 Classes="modern-input"
                                 Text="{Binding FeeRate}" 
                                 Watermark="Enter fee rate (1-10)"
                                 TextChanged="OnFeeRateChanged"
                                 HorizontalAlignment="Left"/>
                        <TextBlock x:Name="FeeRateValidator" Classes="validator"/>
                    </StackPanel>

                    <!-- Message -->
                    <StackPanel Spacing="8" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="3">
                        <TextBlock Classes="label" Text="Message"/>
                        <TextBox x:Name="MessageBox" 
                                 Classes="modern-input"
                                 Text="{Binding CustomMessage}" 
                                 Watermark="Enter your message to write up on the blockchain"
                                 TextChanged="OnMessageChanged"/>
                        <TextBlock x:Name="MessageByteCounter" Classes="validator"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Grid.Row="4">
					    <Button Classes="primary-button"
                                Content="Finish and save PSBT"
                                HorizontalContentAlignment="Center"
                                Command="{Binding SavePSBT}"
                                HorizontalAlignment="Stretch"
                                Margin="0 16 0 0"/>
                    </StackPanel>
                    <StackPanel Grid.Column="0" Grid.Row="4">
					        <Button Classes="primary-button"
                                    Content="Back"
                                    HorizontalContentAlignment="Center"
                                    Command="{Binding NavigateBackCommand}"
                                    HorizontalAlignment="Stretch"
                                    Margin="0 16 200 0"/>
                        </StackPanel>
            </Grid>
        </Border>
</ScrollViewer>
</UserControl>